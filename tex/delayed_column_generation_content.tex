\newcommand{\mf}[1]{\textbf{\textit{#1}}}
\newcommand{\tsub}[1]{\textsubscript{#1}}
\newcommand{\tsuper}[1]{\textsuperscript{#1}}

\section{Metoda "Delayed Column Generation"}

\subsection{Algorytm}

\begin{equation}\label{length_eq}
L \ge l_1a_1+\dots+l_ma_m
\end{equation}

\begin{equation}\label{cost_eq}
b_1a_1+\dots+b_ma_m > c
\end{equation}

\begin{enumerate}
\item Określnie $m$ poczatkowych rokrojów i ich kosztu w następujący sposób: dla każdego $i$ wybranie długości bazowej $L_j$ dla której $L_j > l_i$ i określenie $i$-tego rokroju jako wycięcie $a_{ii} = [L_j / l_i]$ elementów o długości $l_i$ z długości $L_j$. Koszt $i$-tego rozkroju będzie równy kosztowi $c_j$ długości $L_j$ z której $i$-ta operacja wycina odcinki o długości $l_i$.
\item Uformowanie macierzy \mf{B}
\[
\begin{matrix}
1 & -c_1  & -c_2  & \dots & -c_m \\
0 & a_{11}  & 0 & \dots & 0 \\
0 & 0 & a_{22}  & \dots & 0 \\
\vdots&\vdots&\vdots&\ddots&\vdots \\
0 & 0 & 0 & \dots & a_{mm}
\end{matrix}
\]
gdzie $a_{ii}$ jest ilością odcinków o długości $l_i$ wyciętych w $i$-tym rozkroju z długości bazowej o koszcie $c_j$. Ostatnie $m$ kolumn jets powiązane z rozkrojami. Dane te będą aktualizowane gdy zostanie znaleziony wynik który poprawi rozwiązanie.

Utworzenie $m$ $m+1$ wymiarowych wektorów kolumnowych \mf{S\tsub{1}},...,\mf{S\tsub{m}} odnoszących się do zmiennych dodatkowych, gdzie \mf{S\tsub{i}} posiada same zera z wyjątkiem wiersza $(i+1)$ w którym jest $-1$. Dodatkowo utworzenie $m+1$ wymiarowego wektora kolumnowego \mf{N'} który jako pierwszy element przyjmuje 0, a w następnych $i$-tych wierszach posiada wartośic $N_i$.

Obliczenie \mf{B}\tsuper{-1} która wynosi:
\[
\begin{matrix}
1 & c_1/a_{11}  & c_2/a_{22}  & \dots & c_m/a_{mm} \\
0 & 1/a_{11}  & 0 & \dots & 0 \\
0 & 0 & 1/a_{22}  & \dots & 0 \\
\vdots&\vdots&\vdots&\ddots&\vdots \\
0 & 0 & 0 & \dots & 1/a_{mm}
\end{matrix}
\]

Niech $\mf{N} = \mf{B}^{-1} \cdotp \mf{N'}$. Sprawdzając czy pierwszy element z $\mf{B}\tsuper{-1} \cdotp \mf{P}$ jest dodatni można określić czy istnieje możliwość polepszenia rozwiązania. Wektor kolumnowy \mf{P} jets wektorem złożonym ze zmiennych nieuzytych w bieżącym rozwiązaniu, np. pierwszy element to negatywny koszt, a pozostałe $m$ wierszy jest równe zmiennym $a_{ij}$.

\item Z powyższego puntku wynika że jeśli $i$-ta zmienna dodatkowa która nie wchodzi w skład rozwiązania może ulepszyć rozwiązanie wtedy i tylko wtedy gdy $(i+1)$ element pierwszego wiersza \mf{B}\tsuper{-1} jest ujemny.

\item Jeśli nie jest możliwe polepszenie rozwiązania nalezy określić czy wprowadznie nowego rozkroju ulepszy bieżące rozwiązanie. Jets to możliwe poprzez sprawdznie czy dla $L$ z kosztem $c$ istnieje rozwiązanie nierówności \ref{length_eq} oraz \ref{cost_eq}, gdzie $b_1,\dots,b_m$ to ostatnie $m$ elementów w piwerwszym wierszu \mf{B}\tsuper{-1}. Jeśli te nierównoście nie posiadają rozwiąania dla dowolnej długości $L_1,\dots,L_k$ z kosztem odpowiednio $c_1,\dots,c_m$ wtedy bieżące rozwiązanie jest minimum. Rozwiązanie i jego koszt jest określone poprzez \mf{N}, gdzie pierwszy wiersz to koszt, a pozostałe $m$ wierszy jest, w kolejności, odpowiednimi wartościami $m$-tej kolumny z \mf{B}\tsuper{-1}.

Jeśli nowy rozkrój poprawi rozwiązanie wtedy formowany jest nowy wektor \mf{P} ze współczynnikami, w kolejności $-c,a_1,a_2,\dots,a_m$.

\item Wprowadznie zarówno dodatkowej zmiennej jak i nowego rozkroju może poprawić rozwiązanie. W obu przypadkach \mf{P} będzie kolumnowym wektorem ze zmiennymi. Dla określenia nowych \mf{B}\tsuper{-1} oraz \mf{N} które opisują ulepszone rozwiązanie i jego koszt, co pozawala na przejście przez kkroki 3, 4 oraz kontynujacje kroku 5 w nastepujący sposób: Obliczenie $\mf{B}\tsuper{-1} \cdotp \mf{P}$ - niech elementy wynikime będą elementy $y_1,\dots,y_m,y_{m+1}$ oraz niech elementami bierzącego wektora \mf{N} będą $x_1,\dots,x_m,x_{m+1}$. Ustalenie $i$, $ i \ge 2$ dla każdego $y_i > 0$, $x_i \ge 0$ oraz $x_i/y_i$ jest najminiejsze i przypisanie tej wartości do zmiennej $k$. Minimalny stosunek powinien być zerem aby można było wykorzystać metodę degeneracji.

Jeśli stosunek nie jest równy zero wtedy $k$-ty element wektora \mf{P}, $y_k$ będzie elementem wokół którego zajdzie eliminacja Gaussa odbywająca się równocześnie na \mf{B}\tsuper{-1}, $\mf{B}\tsuper{-1} \cdotp \mf{P}$ oraz \mf{N}. Eliminacja ta przebiega na macierzy $(m+1) \times (m+3)$ wymiarowej \mf{G} uformowanej z \mf{B}\tsuper{-1} poprzez dołączenie kolumn $\mf{B}\tsuper{-1} \cdotp \mf{P}$ oraz \mf{N}. Pierwsze $m+1$ kolumn \mf{G'} formuje nową macierz \mf{B}\tsuper{-1}, a kolumna $m+2$ to nowy wektor \mf{N}. Zależność między kolumnami \mf{B}\tsuper{-1} a rozkrojami lub zmiennymi dodatkowymi jets aktualizowana poprzez usunięcie $k$-tej kolumny i podmienieniu jej na nowy rozkruj lub zmienną dodatkową.

Degeneracja w razie wystąpienia może być obsłużona w tradycyjny sposób. Pewne środki ostrożności powinny zostać podjęte w celu uniknięcia cykliczności. Nowa kolumna \mf{N}\tsuper{1} z dodatnimi elementami $x_1',\dots,x_{m+1}'$ która jest niezależna pd \mf{N} jest dołączana do \mf{G} i wybór takiego $y_i > 0$ dla którego $x_i = 0$ który jest elementem osiowym jets dokonywany na podstawie takiego $i$ dla którego $x_i' > 0$ oraz $x_i'/y_i$ jest najmniejsze. Gdy element osiowy zostanie wybrany, wówczas eliminacja Gaussa zachodzi tak jak w poprzednim przypadku na powiększonej macierzy \mf{G}. Dodatkowa kolumna jest przechowywane w \mf{G} dopóki istnieje takie $i$ dla którego $x_i/y_i$ jest dodatnie i skończone, jeśłi warunek ten jest spełniony wówczas kolumna zostaje usunięta. Powinno to nastąpić w przypadku gdy nie istnieje takie $i$ dla którego $x_i/y_i$ oraz $x_i'/y_i$ są dodatnie i skończone. Wówczas powinna zostać dodana kolumna \mf{N}\tsuper{2} nizależna od \mf{N} oraz \mf{N}\tsuper{1}. Podobnie dowolna liczba kolumn może zostac dodana i usunięta gdy przestanie byc potrzebna. Dopóki kolumny są niezależne w czasie dodawania i pozostają takie po eliminacji Gaussa, nie potrzeba więcej jak $m$ nowych kolumn. Każda dodana kolumna definiuje nowy problem liniowy który eliminuje problem cykliczności tak długo aż degeneracja nie wystąpi.

\end{enumerate}

\subsection{Metody użyte w implementacji}

\paragraph{Dwufazowa metoda simplex}
\paragraph{Metoda podziału i ograniczeń}

\subsection{Przykład}
